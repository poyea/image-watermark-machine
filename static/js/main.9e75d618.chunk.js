(this["webpackJsonpimage-watermark-machine"]=this["webpackJsonpimage-watermark-machine"]||[]).push([[0],[,,function(e,t,n){e.exports={main:"Home_main__2L4cf",footer:"Home_footer__3eZco",title:"Home_title__2jL4m",description:"Home_description__1txge",stickybanner:"Home_stickybanner__Kizvz",wrapper:"Home_wrapper__3LREN",sticky:"Home_sticky__2Q_3w",logo:"Home_logo__3etHn",img:"Home_img__3BH-p",hidden:"Home_hidden__3JmsZ",input:"Home_input__1cYKu"}},,function(e,t,n){e.exports={buttons:"Buttons_buttons__3blPu",button:"Buttons_button__2sOd_"}},,function(e,t,n){e.exports={zone:"Dragover_zone__1kqwW",focus:"Dragover_focus__1v1qD"}},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n(1),o=n.n(c),i=n(7),s=n.n(i),l=(n(13),n(3)),u=n(4),d=n.n(u),f=function(e){var t=e.clearDesk,n=e.applyWaterMark,a=e.downloadImages;return Object(r.jsxs)("div",{className:d.a.buttons,children:[Object(r.jsx)("button",{className:d.a.button,onClick:t,title:"Clear the page.",children:"X"}),Object(r.jsx)("button",{className:d.a.button,onClick:n,title:"Apply watermarks.",children:"A"}),Object(r.jsx)("button",{className:d.a.button,onClick:a,title:"Download the edited images.",children:"D"})]})},m=n(6),g=n.n(m),b=function(e){var t=e.isDragFocus;return Object(r.jsx)("div",{className:"".concat(g.a.zone," ").concat(t?g.a.focus:""),id:"dragover",children:"Drop your file(s) here."})},h=n(2),j=n.n(h),p="Copyright \xa9 ".concat((new Date).getFullYear()," J. All Rights Reserved.     ").repeat(100),v=null!==(a=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}())&&void 0!==a?a:"#008cff",_=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)({}),s=Object(l.a)(i,2),u=s[0],d=s[1],m=Object(c.useState)([]),g=Object(l.a)(m,2),h=g[0],_=g[1],O=Object(c.useState)(!1),x=Object(l.a)(O,2),w=x[0],k=x[1],y=Object(c.useState)(!1),D=Object(l.a)(y,2),L=D[0],C=D[1],E=Object(c.useState)(p),N=Object(l.a)(E,2),I=N[0],H=N[1],R=Object(c.useState)(v),S=Object(l.a)(R,2),B=S[0],F=S[1],T=function(e,t,n){var a=document.getElementById(n),r=a.getContext("2d"),c=new Image;c.src=e,c.onload=function(){a.width=c.width,a.height=c.height,r.drawImage(c,0,0),r.lineWidth=1,r.fillStyle=function(e){var t=parseInt(e.substring(1),16),n=t>>8&255,a=255&t;return"rgb(".concat(t>>16&255,",").concat(n,",").concat(a,",0.5)")}(B),r.lineStyle="#ffffff",r.font="".concat(a.height/10,"px serif"),r.fillText(t,0,0);for(var e=-1;e<=1;e+=2)for(var n=0,o=a.width/200;o>=2;o-=1)r.save(),r.translate(0,n),r.fillText(t,0,0),r.restore(),n-=a.height/o*e}},W=function(){e.current&&o(e.current.getBoundingClientRect().top<=0)},z=function(){k(!0)},M=function(){k(!1)};Object(c.useEffect)((function(){return window.addEventListener("scroll",W),window.addEventListener("dragover",(function(e){z(),e.preventDefault()})),window.addEventListener("dragover",(function(e){z(),e.preventDefault()})),window.addEventListener("drop",(function(e){M(),d(e.dataTransfer.files),U(e.dataTransfer.files),e.preventDefault()})),window.addEventListener("dragleave",(function(e){M(),e.preventDefault()})),document.title="Image Watermarker",function(){window.removeEventListener("scroll",(function(){return W}))}}),[]);var U=function(e){if(0!==e.length){d(e);for(var t=[],n=0;n<e.length;++n)t.push(e[n]);_(t)}};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("main",{className:j.a.main,id:"main",children:[Object(r.jsx)("div",{ref:e,className:"\n            ".concat(a?j.a.stickybanner:"","\n            "),children:Object(r.jsx)("h1",{className:"\n            ".concat(j.a.title," ").concat(a?j.a.sticky+" "+j.a.wrapper:"","\n            "),children:"Image Watermarker"})}),Object(r.jsxs)("p",{className:j.a.description,children:[Object(r.jsx)("input",{type:"file",id:"input",files:h,accept:"image/*",multiple:!0,onChange:function(e){return U(e.target.files)}}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{className:j.a.input,type:"text",value:I,onChange:function(e){return t=e.target.value,void H(t);var t}}),Object(r.jsx)("input",{className:j.a.color,type:"color",value:B,onChange:function(e){return t=e.target.value,void F(t);var t}})]}),h.length>0&&h.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)("img",{id:"img"+t,alt:e.name,src:URL.createObjectURL(e),className:j.a.img+(L?" ".concat(j.a.hidden):"")}),Object(r.jsx)("canvas",{id:t,className:j.a.img+(L?"":" ".concat(j.a.hidden))})]},t)}))]}),Object(r.jsxs)("footer",{className:j.a.footer,children:[Object(r.jsxs)("a",{href:"https://github.com/poyea",target:"_blank",rel:"noopener noreferrer",children:["dev @poyea - ",(new Date).getFullYear()]}),Object(r.jsx)("hr",{}),Object(r.jsx)("a",{href:"https://github.com/poyea",target:"_blank",rel:"noopener noreferrer",children:0===h.length&&Object(r.jsx)("img",{alt:"@poyea",src:"https://avatars3.githubusercontent.com/u/24757020"})})]}),0===h.length&&Object(r.jsx)(b,{isDragFocus:w}),Object(r.jsx)(f,{clearDesk:function(){for(var e=0;e<h.length;++e){var t=document.getElementById(e);t.getContext("2d").clearRect(0,0,t.width,t.height)}d({}),_([]),C(!1)},applyWaterMark:function(){h.forEach((function(e,t){T(URL.createObjectURL(e),I,t)})),C(!0)},downloadImages:function(){for(var e=0;e<h.length&&L;++e){var t=document.createElement("a"),n=u[e].name,a=n.substring(n.lastIndexOf(".")+1),r=n.substring(0,n.lastIndexOf("."));t.download="".concat(r,"_watermarked.").concat(a),t.href=document.getElementById(e).toDataURL(),t.click()}}})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(_,{})}),document.getElementById("root")),O()}],[[14,1,2]]]);
//# sourceMappingURL=main.9e75d618.chunk.js.map